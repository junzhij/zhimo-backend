### **多Agent协同工作流与职责划分**



我们将整个系统想象成一个高效的“学术研究室”，由一位主管和多位专家组成。

**核心指挥官：**

- **项目主管 (Orchestrator Agent)**
  - **职责**：这是整个系统的“大脑”和总调度。它不直接处理内容，而是负责**接收用户指令、拆解任务、分配给合适的专家Agent、监控任务进度、并整合最终结果**返回给用户。
  - **协同方式**：例如，当用户上传一份PDF时，“项目主管”会先指令“资料入库专员”进行处理，处理完成后，再将标准化文本交给“首席分析师”和“知识挖掘师”，最后根据用户需求，让“教学策略师”生成习题，或让“内容编排师”整合笔记。

**专家团队 (Specialist Agents)：**

1. **资料入库专员 (Ingestion Agent)**
   - **职责**：负责所有原始资料的接收和标准化。
   - **具体任务**：
     - 接收并解析PDF、Word、PPT等文件。
     - 调用OCR服务，将图片格式的资料（如教材扫描件）转换为可编辑的文本。
     - 爬取网页链接内容。
     - 将所有来源的资料清洗、格式化，统一为标准的JSON结构化文本（包含文本内容、章节标题、段落等信息），交给后续Agent处理。
2. **首席分析师 (Analysis Agent)**
   - **职责**：负责从宏观上理解和解构文本内容。
   - **具体任务**：
     - **生成摘要**：根据“项目主管”的指令，生成不同长度和风格的摘要。
     - **主题建模**：识别文档的核心主题和主要议题。
     - **结构分析**：解析文章的逻辑结构（引言、论证、结论），并生成初步的思维导图（数据结构）。
     - **情绪/观点分析**：在社科、文学类文本中，分析作者的观点和态度。
3. **知识挖掘师 (Knowledge Extraction Agent)**
   - **职责**：负责从文本中精准地挖掘微观、离散的知识点。
   - **具体任务**：
     - **实体识别**：提取关键术语、人名、地名、组织名、日期等。
     - **定义提取**：自动寻找并抽取出对关键术语的定义性描述。
     - **公式/定理提取**：专门针对理工科教材，识别并抓取公式、定理和定律。
     - **关系抽取**：识别实体之间的关系，例如“牛顿”->“发现”->“万有引力”。
4. **教学策略师 (Pedagogy Agent)**
   - **职责**：将分析和挖掘出的知识点，转化为符合教育学原理的、可用于主动学习的材料。
   - **具体任务**：
     - **生成问答对**：基于文本内容，创建选择题、填空题、判断题和简答题。
     - **制作概念卡片 (Flashcards)**：将“知识挖掘师”提取的“术语-定义”对，转化为正面是术语、反面是解释的卡片。
     - **提出开放性问题**：基于“首席分析师”的主题分析，生成需要辩证思考的开放性问题，激发深度学习。
5. **内容编排师 (Synthesis Agent)**
   - **职责**：用户的“私人助理”，负责将所有处理好的材料以及用户的个人笔记，整合成最终的复习资料。
   - **具体任务**：
     - **响应用户指令**：接收用户“我要一份关于XX的复习笔记”的指令。
     - **整合内容**：从数据库中抓取相关的摘要、思维导图节点、概念卡片、用户自己的高亮和笔记。
     - **智能排版**：调用预设的“智能打印”模板（如A4讲义、口袋卡片），将整合后的内容自动、美观地排版成PDF。
     - **构建知识网络视图**：在用户界面上，将用户标注的、相互关联的知识点进行可视化呈现。

